Compact-Morphology-based poly-metallic Nodule Delineation
Poly-metallic nodules are a marine resource considered for deep sea mining. Assessing nodule abundance is of interest for mining companies and to monitor potential environmental impact. Optical seafloor imaging allows quantifying poly-metallic nodule abundance at spatial scales from centimetres to square kilometres. Towed cameras and diving robots acquire high-resolution imagery that allow detecting individual nodules and measure their sizes. Spatial abundance statistics can be computed from these size measurements, providing e.g. seafloor coverage in percent and the nodule size distribution. Detecting nodules requires segmentation of nodule pixels from pixels showing sediment background. Semi-supervised pattern recognition has been proposed to automate this task. Existing nodule segmentation algorithms employ machine learning that trains a classifier to segment the nodules in a high-dimensional feature space. Here, a rapid nodule segmentation algorithm is presented. It omits computation-intense feature-based classification and employs image processing only. It exploits a nodule compactness heuristic to delineate individual nodules. Complex machine learning methods are avoided to keep the algorithm simple and fast. The algorithm has successfully been applied to different image datasets. These data sets were acquired by different cameras, camera platforms and in varying illumination conditions. Their successful analysis shows the broad applicability of the proposed method.
Poly-metallic nodules (PMNs - also referred to as manganese nodules) are a marine mineral resource. They contain relevant concentrations of Copper, Nickel and Cobalt1. Most PMN research and resource assessment focusses on the deep abyssal plains in the eastern Pacific Ocean. Economically interesting areas were found within the Clarion Clipperton Zone (CCZ) where several countries are exploring PMN claims. These are license areas provided to the countries through the International Seabed Authority.
International research projects are investigating aspects of nodule mining (Ecological Aspects of Deep-Sea Mining: https://jpio-miningimpact.geomar.de; Managing Impacts of Deep-Sea Resource Exploitation: https://www.eu-midas.net/). Current foci of these research projects lie on environmental aspects: e.g. epifauna associated with PMNs, mining-induced habitat disturbances and the resilience of the ecosystem to cope with this anthropogenic pressure2,3.
Quantitative measurements of PMN abundance are required for various applications. Individual nodule sizes (in cm2) provide basic measurements that can be aggregated to create descriptive spatial statistics. Examples are PMN density (nodules/m2) and seafloor coverage (in %) that data can related to environmental parameters, like faunal densities or chemical gradients.
Quantitative nodule information is traditionally provided by two methods. First, by physical sea floor sampling, e.g. using box cores. Second, by hydro-acoustic sensors, e.g. Multi-beam Echo Sounder (MBES) or Side Scan Sonar (SSS). Physical sampling by box cores provides precise size measurements of individual PMNs at minimum areal coverage. MBES and SSS provide high areal coverage but minimum quantitative resolution.
It is possible to correlate hydro-acoustic data and physical sampling for specific PMN abundances, but nodules need to be frequent and homogeneously distributed. Box cores can provide misleading data in heterogeneously populated areas and might even provide empty measurements despite an actual PMN occurrence in sparsely populated areas.
Optical imaging provides a bridge technology between these two methods. It features higher quantitative resolution than hydro-acoustics and higher areal coverage than physical sampling (see Fig. 1)4. It can be used to measure local PMN heterogeneity as well as regional abundance.
Comparison of mapping and sampling technology by their resolution (in [log 10(px/m)]) and aerial coverage (in [log 10(m2/h)]). Physical sampling with box cores (yellow box) provides maximal resolution at minimal aerial coverage while hydro-acoustic (Multi-beam Echo Sounder (MBES) and Side Scan Sonar (SSS) - blue boxes) methods provide minimum resolution at maximum aerial coverage. Optical imaging (green boxes) provides a bridge technology that enables seafloor measurements at intermediate resolution and aerial coverage. Hydro-acoustic and optical methods are separated by platform (Ship, AUV, ROV, etc.) and sensor (MBES, SSS, Camera (e.g. Survey Camera5), etc.).
Semantics have to be assigned to pixels to determine nodule quantities in optical imagery. The objects of interest, i.e. PMNs, have to be segmented from the sediment background making this semantic segmentation is a binary task. Each pixel of an image needs to be assigned to either the PMN class \({\omega }_{0}\) or the sediment background class \({\omega }_{1}\).
After the segmentation, individual PMNs need to be delineated. This delineation provides nodule sizes in cm2 - like physical sampling. By aggregating those size measurements imaging provides spatial nodule abundance statistics for large seafloor areas - like hydro-acoustic mapping. Examples of spatial statistics are size distributions, seafloor percent coverage and the number of nodules per area.
Traditionally, manual image annotation is conducted to add semantic information to images and specific tools for manual annotation of underwater imagery have been developed (e.g. Squidle or BIIGLE
6,7). In manual annotation, human experts inspect images and perform two steps: detection and classification of objects of interest. Detections are quantified by geometrical markers placed on top of the images (e.g. rectangles, polygons). Classifications are quantified by category names (e.g. “nodule”).
Classification is easy for the binary nodule case (\({\omega }_{0}\) or \({\omega }_{1}\)), detection however is complicated. Nodules are embedded within the sediment and a gradual transition is frequent between the two classes. Delineating nodules manually can not be achieved in a pixel-perfect way and early methods use percent coverage to measure nodule abundance in images8,9. These coverage measurements have to be seen as subjective inspections rather than objective annotations. Also, all manual image interpretation - inspection and annotation - is prone to bias by human factors like fatigue. Several studies showed that manual underwater image annotation is an error-prone task10,11,12 as it is in other image analysis domains13.
Pattern Recognition (PR) has been proposed to reduce human observer bias. PR-based image analysis methods are usually developed for imagery acquired in air. Their application to in-water imagery is complicated by the underwater environment due to physical factors like scattering, wavelength-dependent light absorption and inhomogeneous illumination. Biological factors add turbidity, marine snow and biofouling of image acquisition gear as further challenges. Some underwater imagery can be pre-processed to make in-air PR methods applicable14.
Successful underwater application of PR has been performed for specific use cases. Fish were classified by a deep neural network15 and by manually tuning shape features16. Nematode biomass was assessed by manually tuning intensity thresholds17 and scallop abundance has been quantified using Adaboost18. General-purpose megafauna detection has been initiated using rich feature representations and Support Vector Machines11.
Efforts to automate the PMN segmentation have emerged as well but because of the aforementioned challenges of underwater imaging, traditional segmentation methods like Region growing
19, Pyramid linking20, Normalized-cuts21, Mean-shift22 and Otsu thresholding are not directly applicable23. Otsu thresholding for example heuristically tunes a threshold value based on the colour frequencies in an image but does not take the spatial distribution of colours into account.
Successful PMN segmentation methods are characterised by varying manual annotation efforts and intense computational runtimes, which is higher than the image acquisition time. An early approach to assess PMNs provides seafloor percent coverage only9. This approach requires few manual annotations as input for an unsupervised pixel clustering. A more sophisticated method implements manual annotation of clusters in a feature space24. Parts of this ‘pixel clustering’ method have been sped up using high-performance computing techniques25. Other parts of this method were fully automated at increased computational cost based on a compactness criterion23.
All methods mentioned above were tuned for specific image data sets. Those data sets are characterised by a particular illumination pattern, prevalence of backscatter and camera view angle. One method was successfully linked to hydro-acoustic measurements and contributed to PMN abundance assessment on a spatial scale larger than 1,000 m2 
26.
Here, the Compact Morphology-based Nodule Delineation (CoMoNoD) method is presented. It combines the advantages of the above-mentioned methods but overcomes some of their individual shortcomings. CoMoNoD competes by neglecting time-consuming feature computation and machine learning. It requires no manual image annotation, applies data-driven parameter tuning and is computationally optimised. CoMoNoD maximises the between-class contrast by a compactness criterion, similar to the criterion proposed in23. Comparable to the Otsu method, a colour threshold is determined. In CoMoNoD the threshold is based on spatial colour distributions within the image. The algorithm is implemented in a GPU-optimised way to allow for rapid image processing. Images acquired at 1 Hz can be processed in realtime on one computer. This provides PMN abundance assessments shortly after image acquisition and thus helps scientists to e.g. pin-pointing subsequent sampling locations during research cruises based on the determined spatial nodule statistics.
Figure 6 shows an example of the delineation result for \({I}^{\mathrm{(1)}}\) (in d)). It also shows intermediate results of the fSpice pre-processing and the binarization step. An example delineation is shown in Fig. 5d) for \({I}^{\mathrm{(2)}}\).
Processing workflow for \({I}^{\mathrm{(1)}}\). Shown are the zoom-ins to the original images (see Fig. 2). (a) Source image, (b) fSpice result, (c) binary image, (d) nodule delineation.
By applying CoMoNoD to all 34,200 images in \({I}^{\mathrm{(1)}}\), nodule abundance was assessed within a contiguous seafloor area of ca. 500 × 400 m2. Nodule abundance was quantised to a 0.25 × 0.25 m2 resolution grid to render the map (see Fig. 7). Therefore, each image was subdivided into 25 × 25 cm2 tiles. CoMoNoD’s descriptive statistics were then computed for each of these grid tiles.
Nodule abundance map showing nodule coverage in percent. 34,200 images contributed to this map. It was computed in about 12 h. The map represents an area of ca. 500 × 400 m2 size. It lies in the DISCOL experimental area in the Peru Basin, Pacific Ocean. Narrow linear structures, criss-crossing the area, are anthropogenic plough-marks (8 m wide) from a mining simulation conducted in 198928. The larger scale (ca. 100 m wide), east-west facing wave pattern correlates with the seafloor micro-bathymetry. The striped horizontal pattern follows the AUV dive trajectory (see black lines in the inset in the lower left corner). Eighty horizontal AUV lines were conducted at a spacing of 5 m. The horizontal pattern is likely caused as an artefact of the max-pooling value selection for overlapping images.
The average nodule number per square meter for the entire area is \({{\rm{\Phi }}}^{N}\mathrm{=2.7}\) m2, the average seafloor coverage is \({{\rm{\Phi }}}^{c}\mathrm{=1.7 \% }\) and the median nodule size is \({{\rm{\Phi }}}_{0.5}^{s}\mathrm{=48.6}\) cm2 (corresponding to a radius of 3.9 cm). Figure 8 shows the nodule size distribution and the coverage distribution.
Nodule size distribution (left) and coverage distribution (right) for \({I}^{\mathrm{(1)}}\).
More than 2.6 million nodules were delineated in the surveyed area. They cover a total area of 8.8 thousand square meters. The nodule volume can be estimated by assuming that the nodules are discoidal rotational ellipsoids. They would form a contiguous manganese nodule cube of 6.6 meter edge length. Assuming a metal composition as reported in the literature (Cobalt: 0.26%, Nickel: 1.2%, Copper: 1%)33, contained metal amounts can be deduced. The nodule cube would have an estimated worth of ca. 1 million EUR at current market prices (Cobalt: 69 kEUR/t, Nickel: 12 kEUR/t, Copper: 7.5 kEUR/t). These values are rough estimates, they do not consider the mining costs and completely neglect the value of the destroyed habitat and fauna.
Coverage values provided by CoMoNoD are comparable to results created by two other methods (PCCA
24 and ES4C
23) showing an agreement in the coverage estimates of ca. 92%.
Images in \({I}^{\mathrm{(2)}}\) were acquired along linear transect lines and no contiguous map can be rendered. The nodule statistics for all 88,630 images are \({{\rm{\Phi }}}^{N}=111.3\) m−2, \({{\rm{\Phi }}}^{c}=\mathrm{6.2 \% }\) and \({{\rm{\Phi }}}_{0.5}^{s}=10.4\) cm2 (corresponding to a radius of 1.8 cm).
Further nodule statistics are being computed for the remainder of the image set which \({I}^{\mathrm{(1)}}\) belongs to (cruises SO239 and SO242-1 - see above). Results will be presented in a follow-up publication.

CoMoNoD was implemented and tested on a high-end desktop computer. It was equipped with a GeForce GTX 980 Ti GPU, Intel Xeon E5-1650 CPU and 64GB RAM. An average runtime of ca. 0.1 s/MPix was observed. Computational complexity of the contrast maximisation is linear in the pixel size. Complexity of the nodule delineation steps is quadratic in the number of nodule segments. Thus images showing more nodules will lead to a longer runtime.
Images in \({I}^{\mathrm{(1)}}\) are ca. 20 MPix in size and the runtime for the entire data set was about 19 hours. Images in \({I}^{\mathrm{(2)}}\) are ca. 5 MPix in size, resulting in a runtime for the entire data set of about 12 hours. Table 1 shows average runtimes for image set \({I}^{\mathrm{(1)}}\).
The source code for CoMoNoD is available from the GEOMAR OpenSource Git repository (https://git.geomar.de/open-source/comonod). Code in this repository is maintained to include future algorithmic updates. A snapshot of the code used for this publication has been archived in Pangaea34. Additional software required to run the algorithm is the OpenCV image processing library (available through http://opencv.org/) and the fSpice algorithm (https://git.geomar.de/open-source/oceancv).
So far, assessing PMN abundance variations was not possible over multiple spatial scales in near realtime. Measurements performed after physical sampling provide local abundance measurements. In case of box corers the sampled area represents 0.25 m2 of the seafloor. Patterns on scales larger than 0.5 m are missed. Ship-based hydro-acoustic data enables assessing nodule patterns at scales of several hundred square kilometres. Its beam-footprint of ca. 50 × 50 m2 oversees patterns on smaller scales.
Optical imaging provides a tool to capture PMN abundance variations over several scales. Automated nodule delineation allows to rapidly extract quantitative data from those images. Applied as a joined methodology, imaging and automated analysis can assess PMN abundance and abundance variations from centimetre to kilometre scale.

CoMoNoD is currently applied to image data sets of several hundred thousand photos acquired across the Pacific Ocean. This study will provide nodule abundance statistics for local, regional and ocean basin scale.
Statistically assessing the natural heterogeneity requires to select a sampling size for the seafloor area quants. In physical sampling this is restricted to one specific size (e.g. 0.25 m2 for box cores). For hydro-acoustics the minimum sampling size depends on the beam opening angle and the distance to the seafloor (meter scale for AUV-based data, 40-100 m for ship-based data). For image-based methods, this area quant can be selected. Its size will affect the derived descriptive statistics. When choosing a very small area quant (e.g. 10 × 10 cm2) it will be rare to detect nodules. When a nodule does occur within the area, the coverage can reach 100%. Similarly, local nodule abundance heterogeneity might be occluded when the area is chosen too large (e.g. 100 × 100 m2). The summative character of the \({{\rm{\Phi }}}_{i}\) will then average out those variations. A study on assessing nodule abundance heterogeneity on various scales is in preparation and will provide suggestions for sampling size selection.
Abundance maps like Fig. 7 provide a subjective impression of the quality of the nodule delineation algorithm. Ground truth information on nodule abundance would be needed to verify the detection accuracy. As manual annotations are lacking for nodule image and as the quality of manual annotations is disputable, robust verification is currently impossible. Ground truth data from physical sampling could be linked with our image analysis method, yet the natural abundance heterogeneity and the limited accuracy of underwater navigation currently prohibit such an assessment. No data set exists where an image has been taken prior physical sampling to assure a one-to-one comparison of image-derived and ground truth data. Video material of TV-guided box cores is of too low quality to be analysed quantitatively.
The contrast maximisation step provides good binary images in all cases. Sediment coverage creates holes in the third example. The nodule delineation succeeds for the first two examples. Percent coverage could be measured in the latter two only.
To overcome these shortcomings, an imaging survey should be conducted prior to the physical seafloor sampling. This would allow assessment of the visual baseline of the undisturbed seafloor. The physical sampling afterwards would provide precise ground truth measurements of individual nodules. Accuracy of underwater navigation is far from the required accuracy of few tens of centimetres for direct comparison. To overcome ambiguities sampling sites need to be distant enough from each other (\( > \)50 m). This will allow identification of each sampling location at the seafloor based on underwater navigational data. A second imaging survey over the same area would then determine the exact positions of the sampling impact sites using visual navigation.
Frequently occurring fauna can become a challenge for CoMoNoD. Under such conditions, the assumption that these objects do not contribute to the nodule class does not hold any more. An example of a misinterpretation is shown in Fig. 9. There, a Xenophyophore has been erroneously detected as a PMN, contributing an additive error to the coverage and nodule count measures and likely affects \({{\rm{\Phi }}}_{i}^{s}\) as well. Interestingly it has been shown, that CoMoNoD can also be used to detect specific fauna by selecting images with outliers for \({{\rm{\Phi }}}_{i\mathrm{,0.99}}^{s}\). These outliers can be an indicator for large Holothurians. However, most complex objects are characterised by more complex visual features. Those objects require pattern recognition systems that are more sophisticated then CoMoNoD. Deep sea fauna can be colourful, complex-shaped or textured. Even nodules can present rich morphologies and colour features when imaged at high resolution. In those cases CoMoNoD can be challenged as well (see below).
Zoom-in on a Xenophyophore that has been misclassified as poly-metallic nodule (left). Detection accuracy per observed nodule coverage (in %) for different fauna coverage values (right). The curves represent different pixel coverage by fauna (solid: 1%, long-dash: 3%, medium-dash: 5%, short-dash: 10%, dotted: 15%). CoMoNoD should be accompanied by other detection methods when dark fauna represents more than 10% of the pixels. Bright fauna will be assigned to the sediment class and will not skew the nodule statistics. For \({I}^{\mathrm{(1)}}\) and \({I}^{\mathrm{(2)}}\) dark fauna contributes to less than 3% of the pixels.
As binary segmentation and delineating convex objects are also topics elsewhere, CoMoNoD could be applied in those contexts as well. Potential fields are microscopy (e.g. for blood cells) and remote sensing (e.g. for permafrost thaw craters).

CoMoNoD was applied to further nodule image data sets (see Fig. 10).
Examples showing CoMoNoD results for other imagery. From left to right: image acquired by AUV Abyss from lower altitude (resolution 320 Pix/m); image acquired by a towed camera by the Federal Institute for Geosciences and Natural Resources (1890 Pix/m); image acquired by a towed camera by the Alfred-Wegener Institute Helmholtz-Center for Polar and Ocean Research (1900 Pix/m)35; image acquired on deck by an SLR camera (8492 Pix/m).
These were obtained by different camera systems mounted on different platforms. Illumination was different in terms of light sources and direction. The data sets are mostly in-situ imagery like \({I}^{\mathrm{(1)}}\) and \({I}^{\mathrm{(2)}}\). One data set shows ex-situ images of box core samplings acquired on deck of a research vessel. For all of these data sets, appropriate settings for \({\theta }_{\gamma }\) provided binary images with maximised contrast between nodules and the sediment background.
For the two image data sets with the highest pixel resolution, and thus highest pixel number per nodule, no appropriate nodule delineation could be achieved. This is likely because the high resolution makes the internal heterogeneity of the nodule itself visible and detectable by CoMoNoD. In such cases, CoMoNoD could be extended by a fallback system using surrounding pixel’s colour information (as described above). This would derive nodule outlines more robustly when the initial delineation does not provide satisfying results. Further studies are needed to determine the limits of the delineation process.

CoMoNoD is governed by the parameter \({\theta }_{\gamma }\). An intelligent parameter guessing system could be implemented that would again use the nodule convexity-heuristic. This system would compute delineations for various settings of \({\theta }_{\gamma }\) and \({\theta }_{r}\) in a brute-force manner. The most promising settings could then be determined by picking the one that produces mostly convex pixel blobs. It would also be possible to analyse multiple images with one parameter setting and assess the resulting nodule statistics as a quality criterion for the chosen parameters.
In the current implementation \({t}_{i}\) is estimated for each image. An improved CoMoNoD could use the estimate of the previous image to reduce the parameter search space for the current image. When images are acquired in quick succession (e.g. at 1 Hz) it can be assumed that they are rather similar. The nodule distribution, image illumination and seafloor distance should remain comparable and hence \({t}_{i}\) should be similar.
The second phase of CoMoNoD merges pixel blobs where nodules were cut into multiple segments. It also breaks up pixel blobs where nodules are connected to each other in \({B}_{i}\). These steps can fail when large epifauna occurs on a nodule or when a sediment cover occludes the visibility on the nodules. Both steps are steered by the compactness heuristic and \({\theta }_{r}\). Using aerial feature descriptors, further information about pixel neighbourhoods could be included in the nodule fusion and decision process. This additional information would come at an additional computational cost. Further intelligence could be added to CoMoNoD by making the initial median filter adaptive, i.e. using the median only when the intensity change exceeds a threshold. These improvements were purposely neglected for CoMoNoD to maintain its rapid data analysis capability.
For new users of the algorithm it is easy to explore the influence of different settings for \({\theta }_{\gamma }\) and \({\theta }_{r}\). A graphical user interface with two sliders would enable users to rapidly create nodule delineations for visual inspection. No feature computation, data normalisation or model training is necessary. CoMoNoD can directly be applied to single images. When promising settings have been determined, these can then be applied to the remainder of the data set in an automated way.
